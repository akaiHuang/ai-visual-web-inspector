<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D åœ°çƒå‹•ç•« - æå–è‡ª Gamania</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary-orange: #FF6400;
      --base-black: #000;
      --base-white: #fff;
    }
    
    body {
      font-family: 'Helvetica Neue', 'Noto Sans TC', sans-serif;
      background: var(--base-black);
      color: var(--base-white);
      min-height: 100vh;
      overflow: hidden;
    }
    
    /* æ˜Ÿç©ºèƒŒæ™¯ */
    .stars-bg {
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(2px 2px at 20px 30px, white, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, white, transparent),
        radial-gradient(2px 2px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(1px 1px at 160px 120px, white, transparent);
      background-size: 200px 200px;
      animation: twinkle 4s ease-in-out infinite;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    
    /* Three.js Canvas å®¹å™¨ */
    #canvas-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    /* æ¥­å‹™æ¨™ç±¤ */
    .business-labels {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 10;
    }
    
    .label {
      position: absolute;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }
    
    .label:hover {
      opacity: 1;
    }
    
    .label-marker {
      color: var(--primary-orange);
      font-weight: bold;
    }
    
    .label-name {
      font-weight: bold;
    }
    
    .label-coord {
      font-size: 12px;
      opacity: 0.6;
    }
    
    /* èªªæ˜é¢æ¿ */
    .info-panel {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,0.95);
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      max-width: 320px;
      z-index: 100;
      color: #333;
    }
    
    .info-panel h3 {
      margin-bottom: 10px;
      color: var(--primary-orange);
    }
    
    .info-panel p {
      font-size: 14px;
      line-height: 1.6;
      color: #666;
    }
    
    .info-panel code {
      background: #f0f0f0;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
    }
    
    /* æ§åˆ¶é¢æ¿ */
    .controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .controls button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: var(--primary-orange);
      color: white;
      font-size: 14px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .controls button:hover {
      transform: scale(1.05);
    }
    
    /* æ¥­å‹™å¡ç‰‡åˆ—è¡¨ */
    .business-list {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 100;
    }
    
    .business-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 16px;
      margin-bottom: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .business-item:hover {
      background: rgba(255,100,0,0.3);
    }
    
    .business-item.active {
      background: var(--primary-orange);
    }
    
    .business-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--primary-orange);
    }
    
    .business-item.active .business-dot {
      background: white;
    }
  </style>
</head>
<body>
  <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
  <div class="stars-bg"></div>
  
  <!-- Three.js Canvas -->
  <div id="canvas-container"></div>
  
  <!-- æ¥­å‹™æ¨™ç±¤ -->
  <div class="business-labels" id="labels"></div>
  
  <!-- æ¥­å‹™åˆ—è¡¨ -->
  <div class="business-list" id="business-list"></div>
  
  <!-- èªªæ˜é¢æ¿ -->
  <div class="info-panel">
    <h3>ğŸŒ 3D åœ°çƒå‹•ç•«</h3>
    <p>åŸå§‹ç¶²ç«™ä½¿ç”¨ Three.js æ­é… GLTFLoader è¼‰å…¥è‡ªè¨‚åœ°çƒæ¨¡å‹ï¼Œä¸¦ä»¥ CameraControls å¯¦ç¾å¹³æ»‘çš„ç›¸æ©Ÿæ§åˆ¶ã€‚</p>
    <p style="margin-top: 10px;"><strong>æŠ€è¡“è¦é»ï¼š</strong></p>
    <ul style="font-size: 13px; margin-top: 5px; padding-left: 20px; color: #666;">
      <li><code>THREE.Scene()</code> + <code>PerspectiveCamera</code></li>
      <li><code>GLTFLoader</code> è¼‰å…¥ .glb æ¨¡å‹</li>
      <li><code>CameraControls</code> ç›¸æ©Ÿæ§åˆ¶</li>
      <li>è¡›æ˜Ÿè»Œé“å‹•ç•«</li>
      <li>4K åœ°çƒæè³ªè²¼åœ–</li>
    </ul>
    <p style="margin-top: 10px; font-size: 12px; color: #999;">ä½¿ç”¨æ»‘é¼ æ‹–æ›³æ—‹è½‰åœ°çƒ ğŸ–±ï¸</p>
  </div>
  
  <!-- æ§åˆ¶é¢æ¿ -->
  <div class="controls">
    <button onclick="toggleAutoRotate()">è‡ªå‹•æ—‹è½‰</button>
    <button onclick="resetCamera()">é‡ç½®è¦–è§’</button>
  </div>
  
  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <script>
    // === 3D åœ°çƒå‹•ç•«é‚è¼¯ ===
    
    // æ¥­å‹™è³‡æ–™ï¼ˆåŸå§‹ç¶²ç«™è³‡æ–™ï¼‰
    const businesses = [
      { name: 'Digital Games', coord: "+0Â° 70'", color: '#3B82F6' },
      { name: 'News Media', coord: "+300Â° 44'", color: '#10B981' },
      { name: 'Gamania Original', coord: "+240Â° 37'", color: '#F59E0B' },
      { name: 'Lifestyle', coord: "+180Â° 60'", color: '#EC4899' },
      { name: 'Corporate Services', coord: "+120Â° 34'", color: '#8B5CF6' },
      { name: 'AI Innovation', coord: "+60Â° 40'", color: '#EF4444' }
    ];
    
    // Three.js è¨­å®š
    let scene, camera, renderer, globe, controls;
    let satellites = [];
    let autoRotate = true;
    
    function init() {
      const container = document.getElementById('canvas-container');
      
      // å ´æ™¯
      scene = new THREE.Scene();
      
      // ç›¸æ©Ÿ
      camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.z = 5;
      
      // æ¸²æŸ“å™¨
      renderer = new THREE.WebGLRenderer({ 
        antialias: true, 
        alpha: true 
      });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(window.devicePixelRatio);
      container.appendChild(renderer.domElement);
      
      // æ§åˆ¶å™¨
      controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;
      controls.enableZoom = true;
      controls.minDistance = 3;
      controls.maxDistance = 10;
      
      // å…‰æº
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);
      
      const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
      directionalLight.position.set(5, 3, 5);
      scene.add(directionalLight);
      
      // å‰µå»ºåœ°çƒ
      createGlobe();
      
      // å‰µå»ºè¡›æ˜Ÿ
      createSatellites();
      
      // å‰µå»ºæ¥­å‹™åˆ—è¡¨
      createBusinessList();
      
      // å‹•ç•«å¾ªç’°
      animate();
      
      // éŸ¿æ‡‰å¼
      window.addEventListener('resize', onWindowResize);
    }
    
    function createGlobe() {
      // åœ°çƒå¹¾ä½•é«”
      const geometry = new THREE.SphereGeometry(1.5, 64, 64);
      
      // åœ°çƒæè³ªï¼ˆæ©˜è‰²ä¸»é¡Œï¼‰
      const material = new THREE.MeshPhongMaterial({
        color: 0xFF6400,
        emissive: 0xFF6400,
        emissiveIntensity: 0.2,
        shininess: 30
      });
      
      globe = new THREE.Mesh(geometry, material);
      scene.add(globe);
      
      // æ·»åŠ ã€Œgã€Logo
      const logoGeometry = new THREE.PlaneGeometry(0.8, 0.8);
      const logoCanvas = document.createElement('canvas');
      logoCanvas.width = 256;
      logoCanvas.height = 256;
      const ctx = logoCanvas.getContext('2d');
      
      // ç¹ªè£½ g logo
      ctx.fillStyle = 'white';
      ctx.font = 'bold 180px Arial';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('g', 128, 140);
      
      const logoTexture = new THREE.CanvasTexture(logoCanvas);
      const logoMaterial = new THREE.MeshBasicMaterial({
        map: logoTexture,
        transparent: true,
        side: THREE.DoubleSide
      });
      
      const logo = new THREE.Mesh(logoGeometry, logoMaterial);
      logo.position.z = 1.51;
      globe.add(logo);
      
      // å…‰ç’°
      const ringGeometry = new THREE.RingGeometry(1.8, 1.85, 64);
      const ringMaterial = new THREE.MeshBasicMaterial({
        color: 0xFF6400,
        transparent: true,
        opacity: 0.3,
        side: THREE.DoubleSide
      });
      
      const ring = new THREE.Mesh(ringGeometry, ringMaterial);
      ring.rotation.x = Math.PI / 2;
      scene.add(ring);
    }
    
    function createSatellites() {
      businesses.forEach((biz, index) => {
        // è¡›æ˜Ÿçƒé«”
        const geometry = new THREE.SphereGeometry(0.08, 16, 16);
        const material = new THREE.MeshBasicMaterial({
          color: new THREE.Color(biz.color)
        });
        
        const satellite = new THREE.Mesh(geometry, material);
        
        // è¨­å®šè»Œé“ä½ç½®
        const angle = (index / businesses.length) * Math.PI * 2;
        const radius = 2.2;
        satellite.userData = {
          angle: angle,
          radius: radius,
          speed: 0.002 + (index * 0.0005),
          name: biz.name
        };
        
        scene.add(satellite);
        satellites.push(satellite);
      });
    }
    
    function createBusinessList() {
      const listContainer = document.getElementById('business-list');
      
      businesses.forEach((biz, index) => {
        const item = document.createElement('div');
        item.className = 'business-item';
        item.innerHTML = `
          <div class="business-dot" style="background: ${biz.color}"></div>
          <div>
            <div class="business-name">${biz.name}</div>
            <div class="label-coord">${biz.coord}</div>
          </div>
        `;
        
        item.addEventListener('click', () => {
          // èšç„¦åˆ°å°æ‡‰è¡›æ˜Ÿ
          focusOnSatellite(index);
        });
        
        listContainer.appendChild(item);
      });
    }
    
    function focusOnSatellite(index) {
      const satellite = satellites[index];
      if (!satellite) return;
      
      // æ›´æ–° active ç‹€æ…‹
      document.querySelectorAll('.business-item').forEach((item, i) => {
        item.classList.toggle('active', i === index);
      });
      
      // ç›¸æ©Ÿå‹•ç•«åˆ°è¡›æ˜Ÿä½ç½®
      const targetPos = satellite.position.clone();
      targetPos.multiplyScalar(1.5);
      
      // ç°¡å–®çš„ç›¸æ©Ÿç§»å‹•
      camera.position.lerp(targetPos.setLength(5), 0.1);
    }
    
    function animate() {
      requestAnimationFrame(animate);
      
      // è‡ªå‹•æ—‹è½‰åœ°çƒ
      if (autoRotate && globe) {
        globe.rotation.y += 0.002;
      }
      
      // æ›´æ–°è¡›æ˜Ÿä½ç½®
      satellites.forEach(satellite => {
        satellite.userData.angle += satellite.userData.speed;
        const angle = satellite.userData.angle;
        const radius = satellite.userData.radius;
        
        satellite.position.x = Math.cos(angle) * radius;
        satellite.position.z = Math.sin(angle) * radius;
        satellite.position.y = Math.sin(angle * 2) * 0.3;
      });
      
      controls.update();
      renderer.render(scene, camera);
    }
    
    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }
    
    function toggleAutoRotate() {
      autoRotate = !autoRotate;
    }
    
    function resetCamera() {
      camera.position.set(0, 0, 5);
      controls.reset();
    }
    
    // åˆå§‹åŒ–
    init();
  </script>
</body>
</html>
