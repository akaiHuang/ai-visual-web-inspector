import{_ as z}from"./DOpyZRRD.js";import{aa as O,ao as T,aC as q,av as J,aD as U,ab as H,at as Q,a5 as W,D as F,au as X,f as P,o as Y,w as Z,J as I,ah as ee,c as t,d as a,e as s,j as i,F as p,r as d,a2 as v,l as c,ad as _,b7 as se,b8 as ae,G as te,aF as oe,h as le,m as ne,b9 as ce,aq as re}from"#entry";import{u as ie}from"./OPJzrUVs.js";import{u as ue}from"./Cpi9bg96.js";const pe={id:"search-modal",class:"fixed left-0 top-0 z-[9999] h-full w-full"},de={id:"modal-body",class:"relative flex w-full items-center justify-center bg-base-bgGrey"},_e={class:"close-outside-click relative flex w-full flex-col gap-[7.63vw] px-[6.1vw] py-[calc(var(--window-height)*0.1093)] xs:gap-[30px] xs:px-[24px] sm:px-[5.21vw] sm:py-[calc(var(--window-height)*0.15)] lg:max-w-[932px] lg:justify-center lg:px-0 lg:py-40"},xe={class:"slt-h3-ttd px-[2.03vw] xs:px-2"},he={class:"slt-focus-outline flex items-center gap-[3.05vw] rounded-[18.32vw] bg-base-silver px-[5.09vw] py-[4.07vw] xs:gap-3 xs:rounded-[72px] xs:px-5 xs:py-4 sm:max-w-[452px] lg:max-w-[464px]"},ve=["placeholder"],fe={class:"px-[2.03vw] xs:px-2"},me={class:"slt-h5 mb-[5.09vw] xs:mb-5"},we={class:"slt-body-1 -ml-4 flex flex-col gap-[3.05vw] xs:gap-3"},be={class:"btn__arrow__group"},ge={__name:"Search",async setup(ye){let f,m;const L=T(),$=q(),w=J(),b=ie(),g=U(),{locale:j}=H(),{fetchPage:K}=Q(),{isSearchOpen:N,setIsSearchOpen:y}=W(),{searchKeywords:B,setKeywords:G}=ue(),o=F({get(){return B.value},set(l){G(l)}}),r=F(()=>w.payload.data?.["fetchPage-search"]?.[j.value]||w.payload.data?.["fetchPage-search"]?.zh);r.value||([f,m]=X(()=>K("search")),await f,m());const x=P(null),k=()=>{y(!1)},u=P(!1),C=()=>{o.value&&!u.value&&(y(!1),b.emit("close-menu",!1),L.path!==g("/search")?$.push(g("/search")):b.emit("perform-search",o.value))},E=l=>{l.key==="Enter"&&!u.value&&C()},M=()=>{o.value="",I(()=>{x.value?.focus()})};return Y(()=>{Z(N,l=>{l?(document.body.style.overflow="hidden",I(()=>{x.value.focus()})):document.body.style.overflow="auto"})}),(l,n)=>{const S=z,R=se,A=ce,V=re,h=ee("sendGAsignal");return a(),t("div",pe,[s("div",{id:"modal-mask",class:"absolute left-0 top-0 h-full w-full bg-base-black-80",onClick:k}),s("div",de,[s("button",{onClick:k,class:"_button-close flex cursor-pointer items-center justify-center"},[i(S,{class:"h-[6.1vw] w-[6.1vw] xs:h-[24px] xs:w-[24px]"})]),s("div",_e,[s("h2",xe,[(a(!0),t(p,null,d(c(r)?.meta_box?.title,e=>(a(),t("span",{key:e,class:"block"},v(e),1))),128))]),s("div",he,[_(i(R,{class:"h-[6.1vw] w-[6.1vw] cursor-pointer xs:h-[24px] xs:w-[24px]",color:"black",onClick:C},null,512),[[h,{event_category:"search modal",event_label:"search"}]]),_(s("input",{type:"text",placeholder:c(r)?.meta_box?.placeholder,ref_key:"searchInput",ref:x,class:"slt-placeholder w-full flex-1 bg-transparent text-base-black placeholder:text-base-black-40",onKeydown:E,onCompositionstart:n[0]||(n[0]=e=>u.value=!0),onCompositionend:n[1]||(n[1]=e=>u.value=!1),"onUpdate:modelValue":n[2]||(n[2]=e=>te(o)?o.value=e:null)},null,40,ve),[[ae,c(o)]]),_(i(S,{class:"h-[6.1vw] w-[6.1vw] cursor-pointer xs:h-[24px] xs:w-[24px]",color:"#FF6400",onClick:M},null,512),[[oe,c(o)],[h,{event_category:"search modal",event_label:"cancel search"}]])]),s("div",fe,[s("h5",me,[(a(!0),t(p,null,d(c(r)?.meta_box?.fastLinks.title,e=>(a(),t("span",{key:e,class:"block"},v(e),1))),128))]),s("ul",we,[(a(!0),t(p,null,d(c(r)?.meta_box?.fastLinks?.data,e=>(a(),t("li",{key:e},[_((a(),le(V,{class:"btn flex w-fit items-center gap-[3.05vw] rounded-full py-1 pl-4 pr-5 transition-all duration-300 ease-in-out xs:gap-3 sm:hover:bg-base-white",to:l.$localePath(e?.link),external:e?.type==="external",target:e?.type==="external"?"_blank":"_self"},{default:ne(()=>[s("div",be,[i(A,{color:"black",class:"btn__arrow btn__arrow--main"}),i(A,{color:"black",class:"btn__arrow btn__arrow--hover"})]),(a(!0),t(p,null,d(e?.name,D=>(a(),t("span",{key:D,class:"block"},v(D),1))),128))]),_:2},1032,["to","external","target"])),[[h,{event_category:"search modal",event_label:e?.name?.join("")}]])]))),128))])])])])])}}},De=O(ge,[["__scopeId","data-v-dcabb127"]]);export{De as default};
