import{D as h,ag as p,bI as x,ab as k,f as b,o as S,b as A,h as B,d as m,m as L,c as d,F as y,r as T,l as C,n as v,a2 as H,b0 as w,bg as P}from"#entry";import{C as g}from"./Cz27TZMB.js";function q(t){return h(()=>{const a=Array.isArray(t)?t:typeof t=="string"?t.split(/\r?\n/):[],s=[];return a.forEach((e,r)=>{const o=typeof e=="string"&&/<[a-z][\s\S]*>/i.test(e);if(typeof e=="string"&&e.includes("<br")){const f=/<br\s*(?:class=['"]([^'"]*)['"]\s*)?\/?>|<br\s*(?:class=['"]([^'"]*)['"]\s*)?>/gi;let n=0,c;for(;(c=f.exec(e))!==null;){const i=e.substring(n,c.index);i&&s.push({text:i,isLineBreak:!1,isHtml:/<[a-z][\s\S]*>/i.test(i)});const u=c[1]||c[2]||"";s.push({text:"",isLineBreak:!0,brClass:u,isHtml:!1}),n=f.lastIndex}const l=e.substring(n);l&&s.push({text:l,isLineBreak:!1,isHtml:/<[a-z][\s\S]*>/i.test(l)})}else s.push({text:e,isLineBreak:!1,isHtml:o});r<a.length-1&&s.push({text:"",lang:null,isLineBreak:!0})}),s})}p.registerPlugin(x);p.registerPlugin(g);function R(t,a={type:"chars",splitClass:"inline-block",isAutoRevert:!0}){const{locale:s}=k(),e=b(null),r=h(()=>e.value?.chars.filter(i=>!i.hasAttribute("data-static")));let o;const f=()=>{e.value=new x(t.value,{type:a.type||"chars",mask:"chars",aria:"none",smartWrap:s.value==="en",linesClass:a.splitClass||"inline-block",wordsClass:a.splitClass||"inline-block",charsClass:a.splitClass||"inline-block",onSplit:()=>{t.value.style.whiteSpace="pre-line"}})},n=()=>{r.value&&p.to(r.value,{yPercent:100,duration:.8,ease:"linear"})},c=(i={})=>{!t.value||!e.value||!r.value||(o&&o.pause(),p.fromTo(r.value,{yPercent:100},{yPercent:0,duration:.8,stagger:.05,ease:g.create("custom","M0,0 C0.272,0 0.41,0.692 0.442,0.817 0.494,1.022 0.744,1 1,1 "),...i,onComplete:()=>{a.isAutoRevert&&e.value?.revert()}}))},l=()=>{r.value&&(o=p.to(r.value,{yPercent:-100,duration:.8,stagger:.05,ease:g.create("custom","M0,0 C0.272,0 0.41,0.692 0.442,0.817 0.494,1.022 0.744,1 1,1 ")}))};return S(()=>{f(),n()}),A(()=>{l(),e.value&&(e.value.revert(),e.value=null)}),{animate:c,revert:l,set:n}}const I=["innerHTML"],D={__name:"FormatText2",props:{text:{type:[String,Array],required:!0},type:{type:String,default:"div",required:!1},brClass:{type:String,default:"",required:!1},splitClass:{type:String,default:"inline-block",required:!1},customClass:{type:String,default:"",required:!1},isAutoRevert:{type:Boolean,default:!0,required:!1}},setup(t,{expose:a}){const s=t,e=b(null),r=q(s.text),{animate:o,revert:f,set:n}=R(e,{splitClass:s.splitClass,isAutoRevert:s.isAutoRevert});return a({rootRef:e,animate:(l={})=>{o(l)},revert:f,set:n}),(l,i)=>(m(),B(P(t.type),{ref_key:"rootRef",ref:e},{default:L(()=>[(m(!0),d(y,null,T(C(r),(u,M)=>(m(),d(y,{key:u},[u.isLineBreak?(m(),d("br",{key:0,class:v(u.brClass||t.brClass),"data-static":"","aria-hidden":"true"},null,2)):u.isHtml?(m(),d("span",{key:2,class:v(["!inline overflow-hidden align-middle",t.customClass]),innerHTML:C(w)(u.text),"data-static":""},null,10,I)):(m(),d("span",{key:1,class:v(["!inline overflow-hidden align-middle",t.customClass])},H(u.text),3))],64))),128))]),_:1},512))}};export{D as _};
