import{aa as be,av as Me,f as _,D as q,o as Ae,b as De,c as v,d as n,e as l,i as R,F as z,r as J,a3 as Be,a2 as te,j as A,m as K,h as ue,ad as ae,ah as Se,aq as Fe,l as t,aw as le,ax as Ne,ay as se,at as $e,ab as je,u as Ge,a5 as Ue,a6 as Oe,au as oe,w as Qe,p as ze,n as ve,af as Je,az as Ze,_ as qe,aA as Ke}from"#entry";import{_ as He}from"./BmtOc1q1.js";import{_ as We}from"./C3hRs_Qr.js";import{_ as Ye}from"./BzPBgL2w.js";import{n as pe,e as me,S as Xe,a as et}from"./BzO0Bd6j.js";import{u as tt}from"./Cz27TZMB.js";import{u as at}from"./Db3L6hFY.js";import"./DOpyZRRD.js";const ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAACcBAMAAABRveK8AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABtQTFRFR3BMRkZGIyMjEhISCQkJgYaGnaCi3N/k3uHm1ROshgAAAAh0Uk5TAAIFChIbMtyyc9ORAAAGIElEQVR42u2aTa7cNgyAxRuQvoE8QA9gqe0B5CQ9QdN1U6DZBwneCfLesatfUhI1nukyQLQI3ubDR5EULY9jfq4fcVH+FwEN/G8WMXEIgE8jAPVfMhBhel6aiMhBxNLfz4MYTYYiR4aSENEgPQOCIUQTASrLGKAUwDOhEhABQCWx0OYZMkWH1C2DBPjELomA5oVPpccA6QUIj9IDBgtpad/JNieAwWtSIt32vGSrlyDvkcF9oy1L6bqBAbFghWOYIHJXVq6/ZYoDvlZSCpdoj6BGAR5uctvnZS0hIV6gQCP58eX177JRSwCEV9EO4C8vb28Npav+A8C8y4I65/59i+trinanspO7ZAq36G4355IySstOI3aXRACJ1WWlkHvC6OqUEINJmdfRpGDgqn8KyMq4XNcN61iNabHeeuWrOwqJiLQUgsm1VMrvzrUUIaxjzWlvRvfbSyW/FKclRMAVCHxEboPy9VN12jskoUmkVn5zTlIEC7IekpUyrqOSuJzOQJbTEwZlSy4ALPNDZG0GtdJxtLg+mLbFGt6zMnRO0uMPkfDOLk/fOXUnAI+ew8XlRXmeITmP0goGFJkr0pRelP9EZZLeaiuoYAEjuDHYK0u0x0W0VpogdMozhLZPSwZxNSmZ7GoZwdM1p8UIooq1I32nTM7AVUHdBhU8Euc7ZXK2aG0kZxaTk9vnHJQRrE5rCeZtQht48y7ZeWQlzWVJRipzUisTWJ3TkwVMVAJxLfv2yct3JAKNs6AGq5TFmdCmpHEWQCUz+NtamVGksZy1ZbWSUQ7WTMGSKNUuQ+i6FgxhJ2Snah9G5XTi6phMo0BibSQCwtR4IP2zUAYJdpglSCnYCvYdW5dzqiaM8hNhtcvT+xasQjE6twL2o4CdUhN9NWGl+6iUwTOJY7eDkWC9Z6UC92SchADsfM/KdbAjC4BApZrhd1Eu2gAIQT3Aamb/6JRF6zulqZNPk/7XzxdKPWlRqnl+ZmUyyghaPzghoq1pX1gpKJNk5vGF2enE+Y05npflKT9b+YSFdxxtA7upB4uLG6c2OiepHJMFZ6CS3vu/3qYUSbAECiV2uvODaj4JVivlpIRz7j7fOUmBgC1D/jzVKOEOAkBFcgtF8sModdJBBlEpI7pFMqNysgfn+upVD1lxTmNaHgsrliqZ0VkqTmO0FVtVznOShtxD7elHep8gzl7K3VfnASklwsa5HaSS3G0ZLXK0EVXS7mILup7Ap2yWBiEByWi0keEcpTJNaFkXnibhVFLXz4RlK7SWn6QybrcFSoj8WFFSf453fxyV0kRa6n2PwkgS8tjUO5VbVL5P01RPJt2ppONtkXBEZfqd96U03+EhoiQVVVJuhi2jPUsEQnot5avJpqY8DrfphbSSpG41/IYTOa+lnyS7+ikIfXaV1DdStRFCR4Y70j2jsxQMX+KX0q4uiIvXR66LlnK4KKiMXOJ3uaX0WD7yAYy8P3pGV1KixZVI3ua0VFJE8zU1Sy/TKydtzBAASEmDkn5lEg1NKcotyIVR0nrSbO55lSNrU7xKKqSuKP+M2UidXiEB54dS64Z1ermg6qduNNhL/SR9lf5jROKVFyV9Tr9ztGVuaumWpfqcfmESNQsE3PfTRJL2W185k1SOaeCq/vny+tWJE2H5qxvQtnEjhaz179KcVy2vTwztc5K8D2GYChpFM6Q3xMV33ELqfcoMlPS2PHkXONjkBNAkmFHqstQFF5i89+skoryqN6l3DNZOAFzmCGgkQ0TLuiXQ3v0MgGbaKYPHOHC1lZJ13zork+pWpPJbpfuaTHGtpZnM6G0E9WVVa2GjfZ/YnScC3iWRe1AiPjrlfRIiudHG1qOGqsatdkL/S/7hbrejkptVNwV12iTc2y4rgRjZ+wtJ0BFM2AUJaDKqQV0TLYVcVU0iwRVItAg4h0oPP4RSDZgsDV+g6CFYTluN2FYjlbc6vEYNmYpau1EVUj76j7+a6g+Dub3MowU4gtzs8AjM+R9JBM2tJxLkwuaosWTnuc/EEUWs7YS5kny7fbzKdzXAFDuiSeiTIORxVRjC/MeTZBsQEXms020IyQuoyGfdBn7+74cfYP0HwMH4QhReqN4AAAAASUVORK5CYII=";function lt(m){let{swiper:e,extendParams:b,emit:S,once:B}=m;b({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function H(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function j(){if(e.params.cssMode)return;const{touchEventsData:h,touches:s}=e;h.velocities.length===0&&h.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:pe()})}function W(h){let{currentPos:s}=h;if(e.params.cssMode)return;const{params:r,wrapperEl:G,rtlTranslate:U,snapGrid:C,touchEventsData:x}=e,D=pe()-x.touchStartTime;if(s<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(s>-e.maxTranslate()){e.slides.length<C.length?e.slideTo(C.length-1):e.slideTo(e.slides.length-1);return}if(r.freeMode.momentum){if(x.velocities.length>1){const w=x.velocities.pop(),y=x.velocities.pop(),d=w.position-y.position,g=w.time-y.time;e.velocity=d/g,e.velocity/=2,Math.abs(e.velocity)<r.freeMode.minimumVelocity&&(e.velocity=0),(g>150||pe()-w.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=r.freeMode.momentumVelocityRatio,x.velocities.length=0;let p=1e3*r.freeMode.momentumRatio;const P=e.velocity*p;let o=e.translate+P;U&&(o=-o);let F=!1,c;const f=Math.abs(e.velocity)*20*r.freeMode.momentumBounceRatio;let N;if(o<e.maxTranslate())r.freeMode.momentumBounce?(o+e.maxTranslate()<-f&&(o=e.maxTranslate()-f),c=e.maxTranslate(),F=!0,x.allowMomentumBounce=!0):o=e.maxTranslate(),r.loop&&r.centeredSlides&&(N=!0);else if(o>e.minTranslate())r.freeMode.momentumBounce?(o-e.minTranslate()>f&&(o=e.minTranslate()+f),c=e.minTranslate(),F=!0,x.allowMomentumBounce=!0):o=e.minTranslate(),r.loop&&r.centeredSlides&&(N=!0);else if(r.freeMode.sticky){let w;for(let y=0;y<C.length;y+=1)if(C[y]>-o){w=y;break}Math.abs(C[w]-o)<Math.abs(C[w-1]-o)||e.swipeDirection==="next"?o=C[w]:o=C[w-1],o=-o}if(N&&B("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(U?p=Math.abs((-o-e.translate)/e.velocity):p=Math.abs((o-e.translate)/e.velocity),r.freeMode.sticky){const w=Math.abs((U?-o:o)-e.translate),y=e.slidesSizesGrid[e.activeIndex];w<y?p=r.speed:w<2*y?p=r.speed*1.5:p=r.speed*2.5}}else if(r.freeMode.sticky){e.slideToClosest();return}r.freeMode.momentumBounce&&F?(e.updateProgress(c),e.setTransition(p),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating=!0,me(G,()=>{!e||e.destroyed||!x.allowMomentumBounce||(S("momentumBounce"),e.setTransition(r.speed),setTimeout(()=>{e.setTranslate(c),me(G,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(S("_freeModeNoMomentumRelease"),e.updateProgress(o),e.setTransition(p),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,me(G,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(o),e.updateActiveIndex(),e.updateSlidesClasses()}else if(r.freeMode.sticky){e.slideToClosest();return}else r.freeMode&&S("_freeModeNoMomentumRelease");(!r.freeMode.momentum||D>=r.longSwipesMs)&&(S("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:H,onTouchMove:j,onTouchEnd:W}})}const st={class:"slt-video-list gap-[4.07vw] xs:gap-[16px] sm:gap-[24px]"},ot={class:"slt-h3-ttd pl-[4.07vw] text-base-white xs:pl-[16px] sm:pl-[5.21vw] lg:pl-[6.61vw] 3xl:pl-[127px]"},it={key:0},nt={key:0,class:"video-list-container"},rt={class:"video-list-wrapper"},ct={class:"mx-[4.07vw] pb-[10vw] xs:mx-[16px] sm:mx-[5.21vw] sm:pb-0 lg:mx-[5.95vw] 3xl:mx-[114.3px]"},dt={class:"relative aspect-[310/408] w-full overflow-hidden rounded-[4.07vw] xs:rounded-[16px]"},ut=["src","alt"],vt=["src","data-video-id"],pt={class:"flex flex-col px-[8px]"},mt=["innerHTML"],ft=["innerHTML"],gt={class:"mt-[4.07vw] flex flex-wrap gap-[4px] xs:mt-[16px] sm:mt-[2.6vw] lg:mt-5"},ht={key:1,class:"video-list-container relative"},xt={class:"video-list-wrapper w-full px-[4.07vw] xs:px-[16px] sm:px-[5.21vw] lg:px-[5.95vw] 3xl:px-[114.3px]"},wt={class:"grid grid-cols-2 gap-x-[4.07vw] gap-y-[8.14vw] xs:gap-x-[16px] xs:gap-y-[32px] sm:grid-cols-3 sm:gap-x-[3.125vw] sm:gap-y-[6.25vw] lg:grid-cols-4 lg:gap-x-[1.59vw] lg:gap-y-[3.18vw] 3xl:gap-x-[30.5px] 3xl:gap-y-[61px]"},yt={class:"relative aspect-[310/408] w-full overflow-hidden rounded-[4.07vw] xs:rounded-[16px]"},_t=["src","alt"],bt=["src","data-video-id"],Mt={class:"flex flex-col px-[8px]"},At=["innerHTML"],St=["innerHTML"],kt={class:"mt-[4.07vw] flex flex-wrap gap-[4px] xs:mt-[16px] sm:mt-[2.6vw] lg:mt-5"},Tt={key:0,class:"flex justify-center pt-[4.07vw] xs:pt-[16px] sm:pt-0"},Vt={class:"slt-bouncing w-[5.09vw] xs:w-[20px] sm:w-[40px] lg:w-[60px]"},Ct={__name:"VideoList",props:{title:{type:Array},isScroll:{type:Boolean,default:!0},videos:{type:Array},isLoading:{type:Boolean,default:!1},showLoadMore:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!0},highlightKeyword:{type:String,default:""}},emits:["loadMore"],setup(m,{emit:e}){const b=e,S=m,{width:B}=tt(),H=Me(),j=_(null),W=_(0),h=_(!1),s=q(()=>H?.payload?.data?.["fetchMedias-short-media"]),r=c=>j.value=c,G=c=>W.value=c.realIndex,U=()=>{B.value>=1270&&j.value.slideNext()},C=()=>{B.value>=1270&&j.value.slidePrev()},x=_(null),k=_(null),D=_({}),p=c=>{D.value[c]=!0,setTimeout(()=>{const f=document.querySelector(`[data-video-id="${c}"]`);f&&(f.style.opacity="1",f.play())},100)},P=()=>{!S.isLoading&&S.hasMore&&b("loadMore")},o=c=>{const f=document.querySelector(`[data-video-id="${c}"]`);f&&(f.pause(),f.style.opacity="0",setTimeout(()=>{D.value[c]=!1},300))},F=c=>{h.value=!0,h.value||p(c)};return Ae(()=>{S.isScroll||S.showLoadMore&&(k.value=new IntersectionObserver(c=>{c[0].isIntersecting&&P()},{threshold:.5}),x.value&&k.value.observe(x.value))}),De(()=>{k.value&&x.value&&(k.value.unobserve(x.value),k.value=null)}),(c,f)=>{const N=Fe,w=Ne,y=Se("sendGAsignal");return n(),v("div",st,[l("h2",ot,[(n(!0),v(z,null,J(m.title,(d,g)=>(n(),v("span",{key:d},[g>0?(n(),v("br",it)):R("",!0),Be(te(d),1)]))),128))]),m.isScroll?(n(),v("div",nt,[m.videos.length>4?(n(),v("div",{key:0,class:"slt-dark-slider-mask",onClick:C},[...f[0]||(f[0]=[l("img",{class:"absolute top-[50%] w-[40px] -translate-y-1/2 scale-x-[0.5] scale-y-[2]",src:ye,alt:""},null,-1)])])):R("",!0),l("div",rt,[l("div",ct,[A(t(et),{slidesPerView:t(B)>=1270?4:t(B)>=640?3:1.5,spaceBetween:24,freeMode:!0,modules:[t(lt)],onSwiper:r,onSlideChange:G,style:{overflow:"visible"}},{default:K(()=>[(n(!0),v(z,null,J(m.videos,(d,g)=>(n(),ue(t(Xe),{key:g},{default:K(()=>[ae((n(),ue(N,{to:c.$localePath(`/gplay/${d.id}`),class:"slt-video-item flex w-full flex-col",onMouseenter:i=>p(`scroll-${g}`),onMouseleave:i=>o(`scroll-${g}`),onClick:i=>F(`scroll-${g}`)},{default:K(()=>[l("div",dt,[l("img",{class:"relative h-full w-full object-cover object-center",src:t(s)?.find(i=>i?.id==d?.featured_media)?.source_url,alt:t(s)?.find(i=>i?.id==d?.featured_media)?.alt_text,width:"310",height:"408"},null,8,ut),t(D)[`scroll-${g}`]&&!t(h)?(n(),v("video",{key:0,class:"absolute left-0 top-0 z-10 h-full w-full object-cover object-center opacity-0 transition-opacity duration-300",src:d.preview[0],muted:"",loop:"",width:"310",height:"408","data-video-id":`scroll-${g}`},null,8,vt)):R("",!0)]),l("div",pt,[l("h3",{class:"slt-line-clamp-2 slt-h5-d mt-[3.05vw] text-base-white xs:mt-[12px] sm:mt-[1.56vw] lg:mt-3",innerHTML:t(le)(d.title,m.highlightKeyword)},null,8,mt),l("p",{class:"slt-line-clamp-2 slt-body-3-d mt-[4px] font-bold text-base-grey sm:font-normal",innerHTML:t(le)(d.description,m.highlightKeyword)},null,8,ft),l("div",gt,[(n(!0),v(z,null,J(d.categories,(i,T)=>(n(),v("div",{key:T,class:"slt-hashtag slt-body-3 text-base-white"},[l("p",null,te(i),1)]))),128))])])]),_:2},1032,["to","onMouseenter","onMouseleave","onClick"])),[[y,{event_category:"gplay",event_label:`${d?.id}-${d?.videoTitle}`}]])]),_:2},1024))),128))]),_:1},8,["slidesPerView","modules"])])]),m.videos.length>4?(n(),v("div",{key:1,class:"slt-dark-slider-mask",onClick:U},[...f[1]||(f[1]=[l("img",{class:"absolute top-[50%] hidden w-[40px] -translate-y-1/2 scale-x-[0.5] scale-y-[2] lg:block",src:ye,alt:""},null,-1)])])):R("",!0)])):R("",!0),m.isScroll?R("",!0):(n(),v("div",ht,[l("div",xt,[l("div",wt,[(n(!0),v(z,null,J(m.videos,(d,g)=>ae((n(),ue(N,{key:g,to:c.$localePath(`/gplay/${d.id}`),class:"slt-video-item flex flex-col",onMouseenter:i=>p(`grid-${g}`),onMouseleave:i=>o(`grid-${g}`),onClick:i=>F(`grid-${g}`)},{default:K(()=>[l("div",yt,[l("img",{class:"relative h-full w-full object-cover object-center",src:t(s)?.find(i=>i?.id==d?.featured_media)?.source_url,alt:t(s)?.find(i=>i?.id==d?.featured_media)?.alt_text,width:"310",height:"408"},null,8,_t),t(D)[`grid-${g}`]&&!t(h)?(n(),v("video",{key:0,class:"absolute left-0 top-0 z-10 h-full w-full object-cover object-center opacity-0 transition-opacity duration-300",src:d.preview[0],muted:"",loop:"",width:"310",height:"408","data-video-id":`grid-${g}`},null,8,bt)):R("",!0)]),l("div",Mt,[l("h3",{class:"slt-line-clamp-2 slt-h5-d mt-[3.05vw] text-base-white xs:mt-[12px] sm:mt-[1.56vw] lg:mt-3",innerHTML:t(le)(d.title,m.highlightKeyword)},null,8,At),l("p",{class:"slt-line-clamp-2 slt-body-3-d mt-[4px] text-base-grey",innerHTML:t(le)(d.description,m.highlightKeyword)},null,8,St),l("div",kt,[(n(!0),v(z,null,J(d.categories,(i,T)=>(n(),v("div",{key:T,class:"slt-hashtag slt-body-3 text-base-white"},[l("p",null,te(i),1)]))),128))])])]),_:2},1032,["to","onMouseenter","onMouseleave","onClick"])),[[y,{event_category:"gplay",event_label:`${d?.id}-${d?.videoTitle}`}]])),128))])])])),m.showLoadMore&&!m.isScroll?(n(),v("div",{key:2,ref_key:"loaderRef",ref:x,class:"my-[12.21vw] xs:my-[48px] sm:my-[120px] lg:my-40"},[m.isLoading||m.hasMore?(n(),v("div",Tt,[l("div",Vt,[A(w)])])):R("",!0)],512)):R("",!0)])}}},Pt=be(Ct,[["__scopeId","data-v-fc3bbb24"]]),Et=()=>{const m=se("currentFilter__main",()=>"全部"),e=se("currentFilter__hastag",()=>"全部"),b=se("filteredVideos",()=>[]),S=se("videoSection",()=>"all");return{currentFilter__main:m,currentFilter__hastag:e,filteredVideos:b,videoSection:S}},Lt={id:"shorts",class:"flex flex-col items-center justify-center bg-base-black"},It={class:"slt-container overflow-hidden"},Rt={id:"hero",class:"relative aspect-[393/462] w-full sm:aspect-[768/462] lg:mx-[auto] lg:mt-[calc(var(--header-height)+3.44vw)] lg:aspect-[1432/392] lg:w-[94.84%] 3xl:mt-[calc(var(--header-height)+66px)]"},Dt={class:"slt-h2 absolute left-[5.85vw] top-[26vw] text-base-white xs:left-[23px] xs:top-[102px] sm:bottom-[calc(var(--window-height)*0.0586)] sm:left-[5.21vw] sm:top-[unset] lg:bottom-[50%] lg:left-[13.62%] lg:translate-y-[50%]"},Bt={id:"search-bar",class:"relative mt-[-8.65vw] flex w-full flex-col xs:mt-[-34px] sm:mt-[calc(var(--window-height)*-0.0293)] lg:-mt-5"},Ft={class:"sm:px-[3.19vw] sm:py-0 lg:px-0"},Nt={class:"relative flex w-full items-center justify-center gap-[2.03vw] rounded-full bg-base-black px-[3.05vw] py-[2.54vw] xs:gap-[8px] xs:px-[12px] xs:py-[10px] sm:gap-[2.08vw] sm:p-[1.56vw] lg:mx-[auto] lg:w-[77.51%] lg:gap-4 lg:border-t lg:border-base-dark lg:p-[1.06vw] 3xl:p-[20.3px]"},$t={class:"relative mt-[-4px] py-[4.07vw] xs:py-[16px] sm:mt-[4px] lg:mt-2"},jt={class:"slt-scrollbar-hide w-auto overflow-x-auto"},Gt={class:"relative ml-[4.07vw] inline-flex w-max flex-row flex-nowrap gap-[3.05vw] pr-[20.36vw] xs:ml-[16px] xs:gap-[12px] xs:pr-[80px] sm:ml-[3.19vw] sm:pl-[2.08vw] sm:pr-[4.75vw] lg:mx-[auto] lg:flex lg:max-w-[77.51%] lg:gap-[0.79vw] lg:px-[1.06vw] 3xl:gap-[15.2px] 3xl:px-[20.3px]"},Ut=["onClick"],Ot={class:"slt-h6"},Qt={key:0},zt={key:1,class:"slt-h4 mb-[64px] mt-[54px] text-center text-base-white sm:mb-[134px] sm:mt-[100px] lg:mb-[160px] lg:mt-[104px]"},Jt={class:"w-full"},_e=20,Zt={__name:"gplay",async setup(m){let e,b;const{fetchShortPage:S,fetchBrandsLotties:B,fetchShorts:H,fetchMedias:j}=$e(),{setMeta:W}=at(),{locale:h,t:s}=je(),{stopLoading:r,startLoading:G}=Ge(),{setHeaderMode:U}=Ue(),{event:C}=Oe(),x=Me(),[{data:k},{data:D},{data:p}]=([e,b]=oe(()=>Promise.all([S(),H(),B()])),e=await e,b(),e),P=q(()=>D.value.filter(a=>a.language===h.value)),o=q(()=>x?.payload?.data?.["fetchPostCategory-short-"+h.value]),F=q(()=>[p.value.pc,p.value.tablet,p.value.mobile,k.value.featured_media,...D.value.map(a=>a.featured_media)]),{data:c}=([e,b]=oe(()=>j(F.value,"short-media")),e=await e,b(),e),{data:f}=([e,b]=oe(async()=>Ze("lottie-data",async()=>{const[a,u,M]=await Promise.all([$fetch(c.value.find(V=>V.id==p.value.pc)?.source_url),$fetch(c.value.find(V=>V.id==p.value.tablet)?.source_url),$fetch(c.value.find(V=>V.id==p.value.mobile)?.source_url)]);return{pc:{url:p.value?.pc?.url||"",data:a},tablet:{url:p.value?.tablet?.url||"",data:u},mobile:{url:p.value?.mobile?.url||"",data:M}}})),e=await e,b(),e),N=q(()=>{const a=o?.value?.filter(u=>u.language===h.value).map(u=>u.name)||[];return[s("toolbar.filter.options.gplayPage.all"),...a]}),w=q(()=>{const a=k?.value?.meta_box?.selectedType?.map(u=>o?.value?.find(M=>M.id==u)?.name)||[];return[s("toolbar.filter.options.gplayPage.all"),...a]}),y={wheels:[{data:N.value}],initValue:s("toolbar.filter.options.gplayPage.all")},d={wheels:[{data:[s("toolbar.sort.options.gplayPage.newest"),s("toolbar.sort.options.gplayPage.oldest")]}],initValue:s("toolbar.sort.options.gplayPage.newest")},g=_(null),i=_([]),T=_(1),O=_(!1),Y=_(!0),ie=_(""),E=_(!1),{currentFilter__main:X,currentFilter__hastag:Q,filteredVideos:L,videoSection:fe}=Et(),Z=_(s("toolbar.sort.options.gplayPage.newest")),ne=_(null),$=async()=>{if(O.value)return;O.value=!0,await new Promise(V=>setTimeout(V,800));const a=(T.value-1)*_e,u=a+_e,M=L.value.slice(a,u);M.length>0?(i.value=[...i.value,...M],Y.value=u<L.value.length):Y.value=!1,O.value=!1,T.value===1&&r()},ke=()=>{O.value||!Y.value||(T.value++,setTimeout(()=>{$()},800))},Te=a=>{if(ie.value=a,!a.trim()){ge();return}C("search",{search_term:a.trim(),event_category:"gplay",event_label:"search"}),L.value=P.value.filter(u=>u.title.join(" ").toLowerCase().includes(a.toLowerCase())||u.description.join(" ").toLowerCase().includes(a.toLowerCase())),T.value=1,i.value=[],$(),E.value=!0},ge=()=>{ie.value="",X.value=s("toolbar.filter.options.gplayPage.all"),Q.value=s("toolbar.filter.options.gplayPage.all"),Z.value=s("toolbar.sort.options.gplayPage.newest"),L.value=[...P.value],T.value=1,i.value=[],E.value=!1,Y.value=!0,$()},Ve=a=>{X.value=a,Q.value="",a===s("toolbar.filter.options.gplayPage.all")?(E.value=!1,L.value=[...P.value],T.value=1,i.value=[],ee(Z.value,!0),$()):he(a)},Ce=a=>{Q.value=a,X.value="",ne.value&&(ne.value.model=""),a===s("toolbar.filter.options.gplayPage.all")?(E.value=!1,T.value=1,i.value=[],L.value=[...P.value],ee(Z.value,!0),$()):he(a)},he=a=>{a===s("toolbar.filter.options.gplayPage.all")?(L.value=[...P.value],Q.value===s("toolbar.filter.options.gplayPage.all")||X.value===s("toolbar.filter.options.gplayPage.all")?E.value=!1:E.value=!0):(L.value=P.value.filter(u=>u.categories.includes(a)),E.value=!0),T.value=1,i.value=[],ee(Z.value,!1),$()},Pe=a=>{Z.value=a,ee(a,!1)},ee=(a,u=!1)=>{a===s("toolbar.sort.options.gplayPage.newest")?L.value.sort((M,V)=>new Date(V.date)-new Date(M.date)):L.value.sort((M,V)=>new Date(M.date)-new Date(V.date)),T.value=1,i.value=[],$(),u||(E.value=!0)};return Qe(h,()=>{G(),U("light")}),Ae(async()=>{X.value=s("toolbar.filter.options.gplayPage.all"),Q.value=s("toolbar.filter.options.gplayPage.all"),L.value=[...P.value],ee(Z.value,!0),E.value=!1,await $(),g.value.animate({duration:.8,stagger:.05,delay:1.5})}),[e,b]=oe(()=>W(k.value,c.value.find(a=>a.id==k.value.featured_media))),await e,b(),(a,u)=>{const M=qe,V=ze,Ee=He,Le=We,xe=Ye,we=Pt,Ie=Ke,re=Se("sendGAsignal");return n(),v("div",Lt,[l("div",It,[l("div",Rt,[A(V,null,{default:K(()=>[A(M,{animationData:t(f)?.pc?.data,class:"hidden aspect-[1432/392] overflow-hidden lg:block lg:rounded-[1.59vw] lg:border lg:border-base-dark 3xl:rounded-[30.5px]"},null,8,["animationData"]),A(M,{animationData:t(f)?.tablet?.data,class:"hidden aspect-[768/462] overflow-hidden sm:block lg:hidden"},null,8,["animationData"]),A(M,{animationData:t(f)?.mobile?.data,class:"aspect-[393/462] overflow-hidden sm:hidden"},null,8,["animationData"])]),_:1}),l("div",Dt,[A(Ee,{text:t(k)?.meta_box?.title,ref_key:"titleText",ref:g,type:"h1",isAutoRevert:!1},null,8,["text"])])]),l("div",Bt,[l("div",Ft,[l("div",Nt,[A(Le,{variant:"dark",placeholder:t(s)("toolbar.search.placeholder.gplay"),"onUpdate:keyword":Te,onCancelSearch:ge},null,8,["placeholder"]),ae(A(xe,{ref_key:"filterSelectRef",ref:ne,selectId:"idFilter",config:y,type:"filter",variant:"dark",onChange:Ve},null,512),[[re,{event_category:"gplay",event_label:"filter"}]]),ae(A(xe,{selectId:"idSort",config:d,type:"sort",variant:"dark",onChange:Pe},null,512),[[re,{event_category:"gplay",event_label:"sort"}]])])]),l("div",$t,[u[2]||(u[2]=l("div",{class:"slt-dark-slider-mask left-0 lg:hidden"},null,-1)),l("div",jt,[l("div",Gt,[(n(!0),v(z,null,J(t(w),(I,ce)=>ae((n(),v("div",{key:I,class:ve(["flex h-[10.18vw] shrink-0 cursor-pointer select-none items-center justify-center rounded-[18.32vw] px-[5.09vw] xs:h-[40px] xs:rounded-[72px] xs:px-[20px] lg:px-[1.32vw] 3xl:px-[25.4px]",{"bg-primary-orange text-base-black":t(Q)===I,"bg-base-deepGrey text-base-white":t(Q)!==I}]),onClick:de=>Ce(I)},[l("p",Ot,te(I),1)],10,Ut)),[[re,{event_category:"gplay",event_label:`篩選 ${I}`}]])),128))])]),u[3]||(u[3]=l("div",{class:"slt-dark-slider-mask right-0 -translate-x-[150%] scale-x-[-4] lg:hidden"},null,-1))])]),t(E)?R("",!0):(n(),v("div",Qt,[(n(!0),v(z,null,J(t(k)?.meta_box?.section,(I,ce)=>(n(),v("div",{key:I,class:ve(["overflow-hidden xs:mt-[36px] sm:mt-[48px] lg:mt-16",{"mt-[9.16vw]":ce===0,"mt-[18.83vw]":ce===1}])},[A(we,{title:I.name,videos:I.shorts.map(de=>t(P).find(Re=>Re.id==de)),onClick:u[0]||(u[0]=de=>fe.value="special")},null,8,["title","videos"])],2))),128))])),l("div",{id:"all",class:ve(["mt-[12.21vw] xs:mt-[48px] sm:mt-[120px] lg:mt-20",{hidden:!t(i).length&&!t(O)}])},[A(we,{title:t(i).length?t(E)?[t(s)("gplay.searchResult")]:[t(s)("gplay.allContent")]:[""],videos:t(i),isScroll:!1,isLoading:t(O),showLoadMore:!0,hasMore:t(Y),highlightKeyword:t(ie),onLoadMore:ke,onClick:u[1]||(u[1]=I=>fe.value="all")},null,8,["title","videos","isLoading","hasMore","highlightKeyword"])],2),!t(i).length&&!t(O)?(n(),v("div",zt,te(a.$t("gplay.noResult")),1)):R("",!0)]),A(Je,{name:"fade",mode:"out-in"},{default:K(()=>[l("div",Jt,[A(Ie,{data:t(D)},null,8,["data"])])]),_:1})])}}},aa=be(Zt,[["__scopeId","data-v-03124fcd"]]);export{aa as default};
